CREATE TABLE [dbo].[Answers] (
    [Id] [int] NOT NULL IDENTITY,
    [AnswerNumber] [int],
    [SerialNumber] [int] NOT NULL,
    [AnswerText] [nvarchar](500),
    [AnswerYesNo] [bit],
    [AnswerDate] [datetime],
    [AnswerTime] [datetime],
    [QuestionOptionId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Answers] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[QuestionOptions] (
    [Id] [int] NOT NULL IDENTITY,
    [QuestionId] [int] NOT NULL,
    [OptionChoiceId] [int],
    CONSTRAINT [PK_dbo.QuestionOptions] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[OptionChoices] (
    [Id] [int] NOT NULL IDENTITY,
    [Contents] [nvarchar](255),
    [MinimumOflinearScale] [int] NOT NULL,
    [MaximumOflinearScale] [int] NOT NULL,
    [ChoiceValueOflinearScale] [int] NOT NULL,
    CONSTRAINT [PK_dbo.OptionChoices] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Questions] (
    [Id] [int] NOT NULL IDENTITY,
    [NumberQuestion] [int] NOT NULL,
    [Contents] [nvarchar](255),
    [IsRequired] [bit] NOT NULL,
    [IsMultiChoice] [bit] NOT NULL,
    [QuestionTypeId] [int] NOT NULL,
    [SectionId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Questions] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[QuestionTypes] (
    [Id] [int] NOT NULL IDENTITY,
    [NameTypeQuestion] [nvarchar](255),
    CONSTRAINT [PK_dbo.QuestionTypes] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Sections] (
    [Id] [int] NOT NULL IDENTITY,
    [NumberSection] [int] NOT NULL,
    [Title] [nvarchar](255),
    [Discription] [nvarchar](500),
    [SurveyId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Sections] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Surveys] (
    [Id] [int] NOT NULL IDENTITY,
    [Title] [nvarchar](255),
    [Discription] [nvarchar](500),
    [EndPage] [nvarchar](500),
    [DateStart] [datetime] NOT NULL,
    [Deadline] [datetime] NOT NULL,
    [AllowAddAnother] [bit] NOT NULL,
    [LimitNumber] [int] NOT NULL,
    [UserId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Surveys] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Users] (
    [Id] [int] NOT NULL IDENTITY,
    [FullName] [nvarchar](255),
    [UserName] [nvarchar](50),
    [IsAdmin] [bit] NOT NULL,
    [Password] [nvarchar](255),
    [Email] [nvarchar](max),
    [Birthday] [datetime] NOT NULL,
    [Phone] [nvarchar](10),
    [Gender] [nvarchar](7),
    [Company] [nvarchar](255),
    CONSTRAINT [PK_dbo.Users] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_QuestionOptionId] ON [dbo].[Answers]([QuestionOptionId])
CREATE INDEX [IX_QuestionId] ON [dbo].[QuestionOptions]([QuestionId])
CREATE INDEX [IX_OptionChoiceId] ON [dbo].[QuestionOptions]([OptionChoiceId])
CREATE INDEX [IX_QuestionTypeId] ON [dbo].[Questions]([QuestionTypeId])
CREATE INDEX [IX_SectionId] ON [dbo].[Questions]([SectionId])
CREATE INDEX [IX_SurveyId] ON [dbo].[Sections]([SurveyId])
CREATE INDEX [IX_UserId] ON [dbo].[Surveys]([UserId])
ALTER TABLE [dbo].[Answers] ADD CONSTRAINT [FK_dbo.Answers_dbo.QuestionOptions_QuestionOptionId] FOREIGN KEY ([QuestionOptionId]) REFERENCES [dbo].[QuestionOptions] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[QuestionOptions] ADD CONSTRAINT [FK_dbo.QuestionOptions_dbo.OptionChoices_OptionChoiceId] FOREIGN KEY ([OptionChoiceId]) REFERENCES [dbo].[OptionChoices] ([Id])
ALTER TABLE [dbo].[QuestionOptions] ADD CONSTRAINT [FK_dbo.QuestionOptions_dbo.Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [dbo].[Questions] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Questions] ADD CONSTRAINT [FK_dbo.Questions_dbo.QuestionTypes_QuestionTypeId] FOREIGN KEY ([QuestionTypeId]) REFERENCES [dbo].[QuestionTypes] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Questions] ADD CONSTRAINT [FK_dbo.Questions_dbo.Sections_SectionId] FOREIGN KEY ([SectionId]) REFERENCES [dbo].[Sections] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Sections] ADD CONSTRAINT [FK_dbo.Sections_dbo.Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [dbo].[Surveys] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Surveys] ADD CONSTRAINT [FK_dbo.Surveys_dbo.Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201611081751111_AutomaticMigration', N'DAL.Mingrations.Configuration',  0x1F8B0800000000000400ED5D596FE4B8117E0F90FF20E82909BC6EDB83C12646F72E7AEC7160C457A63D8BE4C9A05B745B581DBD3A3C3682FCB23CE427ED5F5852D4C15BA45A2DB5BDC60283368F8FC56255892CB26A7FFDDFFFA73F3E8781F30493D48FA3997BB87FE03A305AC69E1FAD666E9E3D7CF757F7C71FFEF887E9672F7C767EAADA7DC0ED50CF289DB98F59B63E9E4CD2E5230C41BA1FFACB244EE3876C7F198713E0C593A38383BF4D0E0F271041B808CB71A65FF228F34358FC81FE3C89A3255C6739082E630F0669598E6A1605AA73054298AEC112CEDCD3F985EBCC031FA0A1173078701D104571063244D8F1D7142EB2248E568B352A00C1EDCB1AA2760F20486149F071D3DC94F683234CFBA4E958412DF3348B434BC0C30F2533267CF74E2C756B6621767D466CCD5EF0AC0B96CDDC79947E8389EBF0431D9F04096E36734997B30435FF16273FA7FBA4CB9EC357ECD5CB8FA404FFB7E79CE44196277016C13C4B40B0E7DCE4F781BFFC077CB98D7F86D12CCA8380A60F5188EA9802547493C46B98642F5FE04349F5B9E73A13B6DF84EF5877A3FA90199D47D98723D7B9428383FB00D6CB4FCD7E91C509FC3B8C600232E8DD802C8349843160316961746E2CC2A2AB3CBCC7BC6546D5775CC00449A5B4A340AE0909B7F039AB7090E023A5759D4BF07C01A355F638733F1E20353DF39FA1579594D85F231FE938EA9425B9E150FF86E9555C8DF5298E030822B39EA788C75547FCFB1669BEE1F48A96763DFF99C314AFF1F51AFFDB2E151CDA1578F257859068715DE70B0C8A66E9A3BF2696689F6D7247E690A21548E2F04B1C0820558BBB5B90AC205EC858DB6C11E7C99223793A69745E6B0978FA2D2C02DBF5DD3218489FB5DC713884D5278FB1BF840296A9C8D602D8A7AC5642D822AB95489BD24A4F584A30DDE08E1D94215BD74E50346D6399BA9958082DBF75A4ABDA28ED8311C9C616825D020BFB40777CB70E9AB1D03E37432D53CD27FBE8E3C71E3ED9977EE4877978FD10F81104C9620902B899414224F68C48E4E52710E4701354C30FB6DC0AF66254788B68648136FA8677FA7ABF6BA6662CB2256FF8BB91600FA5E5E7E917F84BEE27D013F6E596249FA79768E1FDCAF66F06567111A36CBA0F5AC0E536B7F1FABD51A76FB56A7F6464094C28C77CD0928D1BD4A34989665B28B7175C33DBFD50B976525ACB3A399942A540A1D8A297B311616D07DB8AABDFEDABCEBEA27FF158BC85EDCF36B6EA8D5ED7AD9546A5E70ADDEA2497B506598864D9E75D1A5BBFF6357737F940DDFA59B365DDDA97FED44F9789BF6ED19C7EDC7D8B3C79822FFD7F71E5FA67F921E0B54EFDA930FE4A15D395D35654DD9563B094B155E2078AABDFE8F354916863058A2EEF46E077A5B99F23C485956E4EFD8C835DF18B0C24F5D543E39BB7B49EA71078F8E8BF31D03C08E26F73CF9B23E9786CEE56BA1E612EFCD0CFFAB8A6F99AC2A43F53DA58A2CDAC95604515D6CC942E3C4B294DB8E28EA03304D1E582ED642A37329C842E0BB3893BBC1B4DCD5867081AFFDABADDC42BD132D0C73E6CD9793AF7423FDAD460DC803445B2E26D9D2F9F43E0079A51D0CF1E46F9E427D9A3075E36B6CB378F71A45BC3C33ED61089B3D7186AC928DFF730C8491CAE41F432E0C1B5B69B5D0D2B6FE6A556D7C4B0CED3345EFA050D52375A7D7DC8CE0CED471CB3BB44C252F15E12F117FB25D7C8B422B290B8B8BC09BD8E4E610033E8CC8B6F175A27902E8127B2194DCDB324AFFE3035E455EF6958B2FE228C862C3A4CB04905C1095A38F48DF0A34C34FF7EB4F4D72030E212D7DBF0F381675E8FC3D79CC235569D2833E2830901E2EB0B919C7A546E81DA78369D5072A8174FEDBD8E4A0ACC2E791A5960EF4B598938D8DF3F1484C2702889D8E9B5A227F13399FF004268C21B1332F82714A308A2F22AA1CD14990860E34C1DD44AEE8CC0B6F16A408BB989A0D26F86461552CE07DE26072A87B82805E45E655021555D71B56B4FCFC229E7D280A229E7848D605617B9A308A7E820562DBDC65BDCAC7AEDF41F441A3537998309A2922D03C8A072FE26635377FFE3481EE750532EB2CABB46495DE9C11F46E8547713AD5AD097C4C9193284BCC9A76E246DF5B5D728C2C61CE8552B2B3FDD37CB4AFC9D830899DC83DB26F13D09988C0F0348976CCE26C3569700030816F1DFE01768A8074C18D9BE8DE3E0F4BE789D86A34604B73822B3F48CA7A5AB8A5F7C8CBD8019FFBCBC711A715E12E1FCCB0208CFAB0420FE18D102481FF96470EC89DD903A1D5DC620055735406487DC02D65CED0838B5416F83A85C862242A9B02D00589665DD89E9E13A5342AA5AF526F2806AAC8F51E0B5C8D8CD58CF45227A826E1A7B0729D47A2EBC21651961C024FDC3649155E60E2F7B971735414EC1344C33F270992F480716AA5F71AA25CD8275AD8E1AC9E4CCE46C5C76F10FE1D4CCD2B90B6C1C06926995E6D280598A73BE09F33B3049F25A49E44FCB89D5F0CC4ACDA0B1FB1A86A88F9ADBE205FFDE40C209DD09CAE80C4573A1FA74E998A038FA1830B30307D84B3871FAEA3D7DFBAE9EA2B8FCE46AA62DDD8CB7B34E33E5EA26B0DE49D675D30989C92F0BA61345F0FEF412ACD77EB4A282F9CB12674122F94FBE5BD847BC870463B26438CAEF7BEB91B238012BC8D5E2CB5C0F9EF9499A9D820CDC037C497BE2854233D9BE59B13DAA4664B7C6E29255DBA6AA3DFE5DBE859A5F541B67F15051363F43B309F181A478C621EC3CC48E0E4EA100029048DE8C9CC4411E46EA9391BA371BFF4EE3B035E6886C603C8DC8D6D8D24802E4450A49B92D5A19032FC29515B67824325E8423E5D6732D1E6848E62A899AD7A18977B83466FB0D2F360A9CBC0A075F411104CF03AB57465AD7BE79D36B1F77DAB4D7C23680ED68237D7F245B293B34FEDA94466CBB521D6DE5D97389EDBA336E01FB55D777DFCE9A3731863446536A8E240F15A651E52D2C4690860E3323485B587043194ACC7047D96A67E458776430B35D1B58ADA164978FB5A591F8BA3134820EAB65664995DBA031A1B52C2053656FF1AB8B5999D5575DDAAA51A9FB367603A6BC861B5D4F889FA0ABAE144ED7EEFA22EFBE259D017CFC24A33542EDCEAC94E6ECAF5FA4CAA36DBF3ECA9EDB3467B5035EB4660ADFBC0EB38C4DA2B1CA22730C26F28846622A2CCC437D41CA5807E5B5E97822A7F4B8B4481CB901E920708A8EDB91B75D948D3AF28CC6AA0B2DE86A22CB18AA9A620BAC3AB68C81AA4B2D8ED77C701973C6E62BCD719928331A93A930C7ABEE996928D5DDF368DA49BC99B6BA595C2FDA6BA6BCDB76F4B2098DA2319A52BB7514919A529BCD6719DDC46E3BCB42739C26BC89066A4A2D2C05895F62EC042932C768A2936898A6D4625E243C8999142932C7A8A28F6890AACCE6F8528617B1A797B27060ED15BCFF7C937AF4FA1680F3F64F4BCF7B7B3E5FC1154F9AB80E62D093EF156EF8973483E13E6EB0BFF82538097C34DFA6C12588FC07B4F1259197EED1C1E11197217877B2F54ED2D40B24371754D0AACC953F44F0A88F79DA1A1EDA294D2D1B495D0CD4E018E5A490E4CDE5603A66CD8D9E40B27C048918266F47A12449EEBD6F3D4F3161AE877E675CE4A539129D40B72B92E8F0A7F82F3C223B4786EF79E6FEA7E87CEC9CFFEB8EEFBFE75C27486B8F9D03E7BF2D0BD835B9EDDBD01DDA7FDF8DE556CC16099027A1352582EDAD224494C06EF94ADFC692F3A903A5D6A98833B6D3615D3ED02E7654970DB40B5E5B2ED0764CFB1C9A6F4362E4892B3BADC196644FCC52C97D18BB67A8EC02C4FBC7BB5956D27B23EB2AA4B634A5A1EEB8CD2FA9E8DC7EBD2A2278C7371170EBE47D6F8489B294795DCC0C9376AB2F1B23C9B2D5D7C69E4F8767ACA565BF6D28A9CCE1FC6A25EBB509049765AD2F5821A99AECBCD629A95A67204552B52E5F5D4942B52EC6834DA766AA8AA4D7361451F42FBF5A35E4337BF5A5897C222F85BED8EF2A99BC5D5D6492CFD9D5D78C99145D15E89F42F0FC675B243E0D57674D66D27049E77968BD026CD62D29E8F7B6985C92AD7E77683D67B11A3F6D5515662989BC1C203FD51011B7CAF7F06F37F3545F29A63A0BEB16B2490D9FBBEC7790216A1752418D255C9AD7AEBB2058AF39A3D3AE24701A2B57D39022F586B3308D9874690C0952BF561D57785E570EA5117326994B6DAF4992064CC2F5A6B2208D95F6C8584E7BCC74345CE2ACD791CD480CDEE6574B96A74893A688BC389BB9DE3D7EBB43DC0AAA542E3C38BFDD1506E11BC8066BCBE6C10FCA1E0B8521D96AD980DA3C2ECA396A1321E9E6653E04D9682A8721D5BAA1A49943549994748994648328734708F8A54D10E1CB0A29BA224B030F4ECC9D004D8A65C0D20412232767D264B3919816D1E745F556641B7B15499794D995B44CE8CCCADD4DA3249DC4CE31813B4FF79D1C49990BC98811462CDCA1A447B2B43CE34EB4FF8C4692343CDA295AB066DC8445428622FDB44C99D14F4A2231F8006D42F3085F9D91BF4E61EAAF1A8829C28C08971BD0AACD79F41057BB608EA2AA09FF3A1266C0437BD37992F90F6099A16AB4CD4A8BFF5F4CF1C611DF11DE43EF3CBACEB3759EA129C3F03E60988177D3BAF18BBC4B2CCDD3D2DAF6310544A68F6F1BAFA34FB91F7835DD6792CB720504DEA697F7D3782D337C4FBD7AA991AE84301B1550C9BEFA74710BC37580C0D2EB68019E6017DA90C05EC01558BE5431246A90F68560D93E3DF5C12A01615A6234FDD19F4886BDF0F987DF0013F9F812798B0000 , N'6.1.3-40302')

